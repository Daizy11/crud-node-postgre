<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit</title>
    <link
      href="https://www.jqueryscript.net/css/jquerysctipttop.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.2/flatly/bootstrap.min.css"
    />
    <link href="./src/jquery.inputpicker.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="navbar">
     <button style="background-color: #132043; color: #FFFF; width: 4rem;height: 2rem;" onclick="edit()">Back</button>
    </div>
    <form class="form" action="/api/product/<%= users.data[0].id %>" method="post">
      <div
        class="input-buku"
        style="display: flex; flex-direction: column; width: 25%; margin-left: 1rem;"
      >
        <h3>Edit</h3>  
        <label for="">ID</label>
        <% console.log(params) %>
        <input
          type="number"
          name="id"
          id="id"
          readonly
          value="<%= params.id %>"
        />
        <label for="">Nama Product</label>
        <input name="product" value="<%= users.data[0].product %>" />
        <label for="">Product Category ID</label>
        <input
          class="form-control"
          id="demo-2"
          name="productCategoryID"
          readonly
          value=""
        />
      
        <button id="btnSubmit" type="submit">Submit</button>
      </div>
    </form>
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
    
    <script>
      fetch("http://127.0.0.1:3000/api/productCategory")
        .then((response) => response.json())
        .then((data) => {
          // Display the fetched data in the HTML
          console.log(data);
          const extractedData = data.data.map((item) => {
            return {
              id: item.id,
              productCategoryID: item.productCategory,
            };
          });
          console.log(extractedData);

          let inputPicker = $("#demo-2").inputpicker({
            data: extractedData.map((item) => {
              return {
                value: item.id,
                text: item.productCategoryID,
                description: "This is the description of the text 1.",
              };
            }),

            fields: [
              { name: "value", text: "Id" },
              { name: "text", text: "Product Category" },
            ],
            headShow: true,
            fieldText: "value", 
            fieldValue: "value",
            filterOpen: true,
          });
        })
        .catch((error) => console.error("Error fetching data:", error));
    </script>
    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(["_setAccount", "UA-36251023-1"]);
      _gaq.push(["_setDomainName", "jqueryscript.net"]);
      _gaq.push(["_trackPageview"]);

      (function () {
        var ga = document.createElement("script");
        ga.type = "text/javascript";
        ga.async = true;
        ga.src =
          ("https:" == document.location.protocol
            ? "https://ssl"
            : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script>
      function edit(){
        window.location.href = "/product";
      }
    </script>
    <script>
      try {
        fetch(
          new Request(
            "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",
            { method: "HEAD", mode: "no-cors" }
          )
        )
          .then(function (response) {
            return true;
          })
          .catch(function (e) {
            var carbonScript = document.createElement("script");
            carbonScript.src =
              "//cdn.carbonads.com/carbon.js?serve=CK7DKKQU&placement=wwwjqueryscriptnet";
            carbonScript.id = "_carbonads_js";
            document.getElementById("carbon-block").appendChild(carbonScript);
          });
        3;
      } catch (error) {
        console.log(error);
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
  
  </body>
</html>
